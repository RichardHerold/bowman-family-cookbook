(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Bn=!1;var Jn=Array.isArray,Ci=Array.prototype.indexOf,An=Array.from,Ir=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,Or=Object.getOwnPropertyDescriptors,Mi=Object.prototype,Li=Array.prototype,Xn=Object.getPrototypeOf,pr=Object.isExtensible;const ht=()=>{};function Fi(e){return e()}function wn(e){for(var t=0;t<e.length;t++)e[t]()}function Dr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const pe=2,er=4,Tn=8,Ri=1<<24,ct=16,ut=32,$t=64,Nn=128,Ue=512,de=1024,Ae=2048,je=4096,Ce=8192,st=16384,tr=32768,Dt=65536,hr=1<<17,qr=1<<18,Gt=1<<19,Br=1<<20,it=1<<25,Et=32768,Un=1<<21,nr=1<<22,_t=1<<23,bt=Symbol("$state"),Pi=Symbol("legacy props"),Ii=Symbol(""),Rt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Ur(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Oi(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Di(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function qi(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Bi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ui(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ji(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function zi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Gi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Hi(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Vi(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Wi=1,Yi=2,jr=4,Qi=8,Ki=16,Zi=1,Ji=2,Xi=4,es=8,ts=16,ns=1,rs=2,me=Symbol(),is="http://www.w3.org/1999/xhtml";function ss(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function zr(e){return e===this.v}function Gr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Hr(e){return!Gr(e,this.v)}let Ht=!1,as=!1;function os(){Ht=!0}let ee=null;function qt(e){ee=e}function ze(e,t=!1,n){ee={p:ee,i:!1,c:null,e:null,s:e,x:null,l:Ht&&!t?{s:null,u:null,$:[]}:null}}function Ge(e){var t=ee,n=t.e;if(n!==null){t.e=null;for(var r of n)ai(r)}return t.i=!0,ee=t.p,{}}function cn(){return!Ht||ee!==null&&ee.l===null}let mt=[];function Vr(){var e=mt;mt=[],wn(e)}function Vt(e){if(mt.length===0&&!rn){var t=mt;queueMicrotask(()=>{t===mt&&Vr()})}mt.push(e)}function ls(){for(;mt.length>0;)Vr()}function Wr(e){var t=H;if(t===null)return U.f|=_t,e;if((t.f&tr)===0){if((t.f&Nn)===0)throw e;t.b.error(e)}else Bt(e,t)}function Bt(e,t){for(;t!==null;){if((t.f&Nn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const pn=new Set;let V=null,mn=null,De=null,Ie=[],Cn=null,jn=!1,rn=!1;class We{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#s=new Set;#i=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){Ie=[],mn=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#a(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects)):(mn=this,V=null,_r(n.render_effects),_r(n.effects),mn=null,this.#l?.resolve()),De=null}#a(t,n){t.f^=de;for(var r=t.first;r!==null;){var i=r.f,s=(i&(ut|$t))!==0,o=s&&(i&de)!==0,a=o||(i&Ce)!==0||this.skipped_effects.has(r);if((r.f&Nn)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!a&&r.fn!==null){s?r.f^=de:(i&er)!==0?n.effects.push(r):Yt(r)&&((r.f&ct)!==0&&this.#s.add(r),jt(r));var c=r.first;if(c!==null){r=c;continue}}var u=r.parent;for(r=r.next;r===null&&u!==null;)u===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),n=n.parent),r=u.next,u=u.parent}}#o(t){for(const n of t)(n.f&Ae)!==0?this.#s.add(n):(n.f&je)!==0&&this.#i.add(n),this.#c(n.deps),ve(n,de)}#c(t){if(t!==null)for(const n of t)(n.f&pe)===0||(n.f&Et)===0||(n.f^=Et,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&_t)===0&&(this.current.set(t,t.v),De?.set(t,t.v))}activate(){V=this,this.apply()}deactivate(){V===this&&(V=null,De=null)}flush(){if(this.activate(),Ie.length>0){if(Yr(),V!==null&&V!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(pn.size>1){this.previous.clear();var t=De,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of pn){if(s===this){n=!1;continue}const o=[];for(const[c,u]of this.current){if(s.current.has(c))if(n&&u!==s.current.get(c))s.current.set(c,u);else continue;o.push(c)}if(o.length===0)continue;const a=[...s.current.keys()].filter(c=>!this.current.has(c));if(a.length>0){var i=Ie;Ie=[];const c=new Set,u=new Map;for(const f of o)Qr(f,a,c,u);if(Ie.length>0){V=s,s.apply();for(const f of Ie)s.#a(f,r);s.deactivate()}Ie=i}}V=null,De=t}this.committed=!0,pn.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)this.#i.delete(t),ve(t,Ae),kt(t);for(const t of this.#i)ve(t,je),kt(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=Dr()).promise}static ensure(){if(V===null){const t=V=new We;pn.add(V),rn||We.enqueue(()=>{V===t&&t.flush()})}return V}static enqueue(t){Vt(t)}apply(){}}function cs(e){var t=rn;rn=!0;try{for(var n;;){if(ls(),Ie.length===0&&(V?.flush(),Ie.length===0))return Cn=null,n;Yr()}}finally{rn=t}}function Yr(){var e=wt;jn=!0;var t=null;try{var n=0;for(kn(!0);Ie.length>0;){var r=We.ensure();if(n++>1e3){var i,s;us()}r.process(Ie),gt.clear()}}finally{jn=!1,kn(e),Cn=null}}function us(){try{Ui()}catch(e){Bt(e,Cn)}}let tt=null;function _r(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(st|Ce))===0&&Yt(r)&&(tt=new Set,jt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?ci(r):r.fn=null),tt?.size>0)){gt.clear();for(const i of tt){if((i.f&(st|Ce))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)tt.has(o)&&(tt.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const c=s[a];(c.f&(st|Ce))===0&&jt(c)}}tt.clear()}}tt=null}}function Qr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&pe)!==0?Qr(i,t,n,r):(s&(nr|ct))!==0&&(s&Ae)===0&&Kr(i,t,r)&&(ve(i,Ae),kt(i))}}function Kr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(t.includes(i))return!0;if((i.f&pe)!==0&&Kr(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function kt(e){for(var t=Cn=e;t.parent!==null;){t=t.parent;var n=t.f;if(jn&&t===H&&(n&ct)!==0&&(n&qr)===0)return;if((n&($t|ut))!==0){if((n&de)===0)return;t.f^=de}}Ie.push(t)}function fs(e){let t=0,n=xt(0),r;return()=>{an()&&(l(n),dn(()=>(t===0&&(r=b(()=>e(()=>sn(n)))),t+=1,()=>{Vt(()=>{t-=1,t===0&&(r?.(),r=void 0,sn(n))})})))}}var ds=Dt|Gt|Nn;function vs(e,t,n){new ps(e,t,n)}class ps{parent;#e=!1;#t;#r=null;#n;#l;#s;#i=null;#a=null;#o=null;#c=null;#u=null;#f=0;#d=0;#p=!1;#v=null;#b=fs(()=>(this.#v=xt(this.#f),()=>{this.#v=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=H.b,this.#e=!!this.#n.pending,this.#s=sr(()=>{H.b=this;{var i=this.#g();try{this.#i=Oe(()=>r(i))}catch(s){this.error(s)}this.#d>0?this.#_():this.#e=!1}return()=>{this.#u?.remove()}},ds)}#y(){try{this.#i=Oe(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#w(){const t=this.#n.pending;t&&(this.#a=Oe(()=>t(this.#t)),We.enqueue(()=>{var n=this.#g();this.#i=this.#h(()=>(We.ensure(),Oe(()=>this.#l(n)))),this.#d>0?this.#_():(yt(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=at(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(t){var n=H,r=U,i=ee;Ke(this.#s),ke(this.#s),qt(this.#s.ctx);try{return t()}catch(s){return Wr(s),null}finally{Ke(n),ke(r),qt(i)}}#_(){const t=this.#n.pending;this.#i!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),di(this.#i,this.#c)),this.#a===null&&(this.#a=Oe(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#a&&yt(this.#a,()=>{this.#a=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#m(t),this.#f+=t,this.#v&&Ut(this.#v,this.#f)}get_effect_pending(){return this.#b(),l(this.#v)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#p||!n&&!r)throw t;this.#i&&($e(this.#i),this.#i=null),this.#a&&($e(this.#a),this.#a=null),this.#o&&($e(this.#o),this.#o=null);var i=!1,s=!1;const o=()=>{if(i){ss();return}i=!0,s&&Vi(),We.ensure(),this.#f=0,this.#o!==null&&yt(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#h(()=>(this.#p=!1,Oe(()=>this.#l(this.#t)))),this.#d>0?this.#_():this.#e=!1};var a=U;try{ke(null),s=!0,n?.(t,o),s=!1}catch(c){Bt(c,this.#s&&this.#s.parent)}finally{ke(a)}r&&Vt(()=>{this.#o=this.#h(()=>{We.ensure(),this.#p=!0;try{return Oe(()=>{r(this.#t,()=>t,()=>o)})}catch(c){return Bt(c,this.#s.parent),null}finally{this.#p=!1}})})}}function hs(e,t,n,r){const i=cn()?Mn:un;if(n.length===0&&e.length===0){r(t.map(i));return}var s=V,o=H,a=_s();function c(){Promise.all(n.map(u=>gs(u))).then(u=>{a();try{r([...t.map(i),...u])}catch(f){(o.f&st)===0&&Bt(f,o)}s?.deactivate(),Sn()}).catch(u=>{Bt(u,o)})}e.length>0?Promise.all(e).then(()=>{a();try{return c()}finally{s?.deactivate(),Sn()}}):c()}function _s(){var e=H,t=U,n=ee,r=V;return function(s=!0){Ke(e),ke(t),qt(n),s&&r?.activate()}}function Sn(){Ke(null),ke(null),qt(null)}function Mn(e){var t=pe|Ae,n=U!==null&&(U.f&pe)!==0?U:null;return H!==null&&(H.f|=Gt),{ctx:ee,deps:null,effects:null,equals:zr,f:t,fn:e,reactions:null,rv:0,v:me,wv:0,parent:n??H,ac:null}}function gs(e,t){let n=H;n===null&&Oi();var r=n.b,i=void 0,s=xt(me),o=!U,a=new Map;return Ts(()=>{var c=Dr();i=c.promise;try{Promise.resolve(e()).then(c.resolve,c.reject).then(()=>{u===V&&u.committed&&u.deactivate(),Sn()})}catch(d){c.reject(d),Sn()}var u=V;if(o){var f=!r.is_pending();r.update_pending_count(1),u.increment(f),a.get(u)?.reject(Rt),a.delete(u),a.set(u,c)}const _=(d,h=void 0)=>{if(u.activate(),h)h!==Rt&&(s.f|=_t,Ut(s,h));else{(s.f&_t)!==0&&(s.f^=_t),Ut(s,d);for(const[v,m]of a){if(a.delete(v),v===u)break;m.reject(Rt)}}o&&(r.update_pending_count(-1),u.decrement(f))};c.promise.then(_,d=>_(null,d||"unknown"))}),ir(()=>{for(const c of a.values())c.reject(Rt)}),new Promise(c=>{function u(f){function _(){f===i?c(s):u(i)}f.then(_,_)}u(i)})}function un(e){const t=Mn(e);return t.equals=Hr,t}function Zr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)$e(t[n])}}function ms(e){for(var t=e.parent;t!==null;){if((t.f&pe)===0)return(t.f&st)===0?t:null;t=t.parent}return null}function rr(e){var t,n=H;Ke(ms(e));try{e.f&=~Et,Zr(e),t=_i(e)}finally{Ke(n)}return t}function Jr(e){var t=rr(e);if(e.equals(t)||(V?.is_fork||(e.v=t),e.wv=pi()),!At)if(De!==null)(an()||V?.is_fork)&&De.set(e,t);else{var n=(e.f&Ue)===0?je:de;ve(e,n)}}let zn=new Set;const gt=new Map;let Xr=!1;function xt(e,t){var n={f:0,v:e,reactions:null,equals:zr,rv:0,wv:0};return n}function vt(e,t){const n=xt(e);return Ms(n),n}function B(e,t=!1,n=!0){const r=xt(e);return t||(r.equals=Hr),Ht&&n&&ee!==null&&ee.l!==null&&(ee.l.s??=[]).push(r),r}function T(e,t,n=!1){U!==null&&(!Ye||(U.f&hr)!==0)&&cn()&&(U.f&(pe|ct|nr|hr))!==0&&!ot?.includes(e)&&Hi();let r=n?Pt(t):t;return Ut(e,r)}function Ut(e,t){if(!e.equals(t)){var n=e.v;At?gt.set(e,t):gt.set(e,n),e.v=t;var r=We.ensure();r.capture(e,n),(e.f&pe)!==0&&((e.f&Ae)!==0&&rr(e),ve(e,(e.f&Ue)!==0?de:je)),e.wv=pi(),ei(e,Ae),cn()&&H!==null&&(H.f&de)!==0&&(H.f&(ut|$t))===0&&(Pe===null?Ls([e]):Pe.push(e)),!r.is_fork&&zn.size>0&&!Xr&&bs()}return t}function bs(){Xr=!1;var e=wt;kn(!0);const t=Array.from(zn);try{for(const n of t)(n.f&de)!==0&&ve(n,je),Yt(n)&&jt(n)}finally{kn(e)}zn.clear()}function sn(e){T(e,e.v+1)}function ei(e,t){var n=e.reactions;if(n!==null)for(var r=cn(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;if(!(!r&&o===H)){var c=(a&Ae)===0;if(c&&ve(o,t),(a&pe)!==0){var u=o;De?.delete(u),(a&Et)===0&&(a&Ue&&(o.f|=Et),ei(u,je))}else c&&((a&ct)!==0&&tt!==null&&tt.add(o),kt(o))}}}function Pt(e){if(typeof e!="object"||e===null||bt in e)return e;const t=Xn(e);if(t!==Mi&&t!==Li)return e;var n=new Map,r=Jn(e),i=vt(0),s=St,o=a=>{if(St===s)return a();var c=U,u=St;ke(null),yr(s);var f=a();return ke(c),yr(u),f};return r&&n.set("length",vt(e.length)),new Proxy(e,{defineProperty(a,c,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&zi();var f=n.get(c);return f===void 0?f=o(()=>{var _=vt(u.value);return n.set(c,_),_}):T(f,u.value,!0),!0},deleteProperty(a,c){var u=n.get(c);if(u===void 0){if(c in a){const f=o(()=>vt(me));n.set(c,f),sn(i)}}else T(u,me),sn(i);return!0},get(a,c,u){if(c===bt)return e;var f=n.get(c),_=c in a;if(f===void 0&&(!_||Ot(a,c)?.writable)&&(f=o(()=>{var h=Pt(_?a[c]:me),v=vt(h);return v}),n.set(c,f)),f!==void 0){var d=l(f);return d===me?void 0:d}return Reflect.get(a,c,u)},getOwnPropertyDescriptor(a,c){var u=Reflect.getOwnPropertyDescriptor(a,c);if(u&&"value"in u){var f=n.get(c);f&&(u.value=l(f))}else if(u===void 0){var _=n.get(c),d=_?.v;if(_!==void 0&&d!==me)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return u},has(a,c){if(c===bt)return!0;var u=n.get(c),f=u!==void 0&&u.v!==me||Reflect.has(a,c);if(u!==void 0||H!==null&&(!f||Ot(a,c)?.writable)){u===void 0&&(u=o(()=>{var d=f?Pt(a[c]):me,h=vt(d);return h}),n.set(c,u));var _=l(u);if(_===me)return!1}return f},set(a,c,u,f){var _=n.get(c),d=c in a;if(r&&c==="length")for(var h=u;h<_.v;h+=1){var v=n.get(h+"");v!==void 0?T(v,me):h in a&&(v=o(()=>vt(me)),n.set(h+"",v))}if(_===void 0)(!d||Ot(a,c)?.writable)&&(_=o(()=>vt(void 0)),T(_,Pt(u)),n.set(c,_));else{d=_.v!==me;var m=o(()=>Pt(u));T(_,m)}var g=Reflect.getOwnPropertyDescriptor(a,c);if(g?.set&&g.set.call(f,u),!d){if(r&&typeof c=="string"){var E=n.get("length"),A=Number(c);Number.isInteger(A)&&A>=E.v&&T(E,A+1)}sn(i)}return!0},ownKeys(a){l(i);var c=Reflect.ownKeys(a).filter(_=>{var d=n.get(_);return d===void 0||d.v!==me});for(var[u,f]of n)f.v!==me&&!(u in a)&&c.push(u);return c},setPrototypeOf(){Gi()}})}var gr,ti,ni,ri;function ys(){if(gr===void 0){gr=window,ti=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ni=Ot(t,"firstChild").get,ri=Ot(t,"nextSibling").get,pr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),pr(n)&&(n.__t=void 0)}}function at(e=""){return document.createTextNode(e)}function En(e){return ni.call(e)}function fn(e){return ri.call(e)}function p(e,t){return En(e)}function Be(e,t=!1){{var n=En(e);return n instanceof Comment&&n.data===""?fn(n):n}}function y(e,t=1,n=!1){let r=e;for(;t--;)r=fn(r);return r}function ws(e){e.textContent=""}function ii(){return!1}let mr=!1;function Ss(){mr||(mr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Ln(e){var t=U,n=H;ke(null),Ke(null);try{return e()}finally{ke(t),Ke(n)}}function Es(e,t,n,r=n){e.addEventListener(t,()=>Ln(n));const i=e.__on_r;i?e.__on_r=()=>{i(),r(!0)}:e.__on_r=()=>r(!0),Ss()}function si(e){H===null&&(U===null&&Bi(),qi()),At&&Di()}function ks(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ze(e,t,n){var r=H;r!==null&&(r.f&Ce)!==0&&(e|=Ce);var i={ctx:ee,deps:null,nodes:null,f:e|Ae|Ue,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{jt(i),i.f|=tr}catch(a){throw $e(i),a}else t!==null&&kt(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Gt)===0&&(s=s.first,(e&ct)!==0&&(e&Dt)!==0&&s!==null&&(s.f|=Dt)),s!==null&&(s.parent=r,r!==null&&ks(s,r),U!==null&&(U.f&pe)!==0&&(e&$t)===0)){var o=U;(o.effects??=[]).push(s)}return i}function an(){return U!==null&&!Ye}function ir(e){const t=Ze(Tn,null,!1);return ve(t,de),t.teardown=e,t}function Gn(e){si();var t=H.f,n=!U&&(t&ut)!==0&&(t&tr)===0;if(n){var r=ee;(r.e??=[]).push(e)}else return ai(e)}function ai(e){return Ze(er|Br,e,!1)}function xs(e){return si(),Ze(Tn|Br,e,!0)}function $s(e){We.ensure();const t=Ze($t|Gt,e,!0);return(n={})=>new Promise(r=>{n.outro?yt(t,()=>{$e(t),r(void 0)}):($e(t),r(void 0))})}function As(e){return Ze(er,e,!1)}function Y(e,t){var n=ee,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=dn(()=>{e(),!r.ran&&(r.ran=!0,b(t))})}function Wt(){var e=ee;dn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&de)!==0&&ve(n,je),Yt(n)&&jt(n),t.ran=!1}})}function Ts(e){return Ze(nr|Gt,e,!0)}function dn(e,t=0){return Ze(Tn|t,e,!0)}function P(e,t=[],n=[],r=[]){hs(r,t,n,i=>{Ze(Tn,()=>e(...i.map(l)),!0)})}function sr(e,t=0){var n=Ze(ct|t,e,!0);return n}function Oe(e){return Ze(ut|Gt,e,!0)}function oi(e){var t=e.teardown;if(t!==null){const n=At,r=U;br(!0),ke(null);try{t.call(null)}finally{br(n),ke(r)}}}function li(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&Ln(()=>{i.abort(Rt)});var r=n.next;(n.f&$t)!==0?n.parent=null:$e(n,t),n=r}}function Ns(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&ut)===0&&$e(t),t=n}}function $e(e,t=!0){var n=!1;(t||(e.f&qr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Cs(e.nodes.start,e.nodes.end),n=!0),li(e,t&&!n),xn(e,0),ve(e,st);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();oi(e);var i=e.parent;i!==null&&i.first!==null&&ci(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Cs(e,t){for(;e!==null;){var n=e===t?null:fn(e);e.remove(),e=n}}function ci(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function yt(e,t,n=!0){var r=[];ui(e,r,!0);var i=()=>{n&&$e(e),t&&t()},s=r.length;if(s>0){var o=()=>--s||i();for(var a of r)a.out(o)}else i()}function ui(e,t,n){if((e.f&Ce)===0){e.f^=Ce;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&Dt)!==0||(i.f&ut)!==0&&(e.f&ct)!==0;ui(i,t,o?n:!1),i=s}}}function ar(e){fi(e,!0)}function fi(e,t){if((e.f&Ce)!==0){e.f^=Ce,(e.f&de)===0&&(ve(e,Ae),kt(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&Dt)!==0||(n.f&ut)!==0;fi(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function di(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:fn(n);t.append(n),n=i}}let wt=!1;function kn(e){wt=e}let At=!1;function br(e){At=e}let U=null,Ye=!1;function ke(e){U=e}let H=null;function Ke(e){H=e}let ot=null;function Ms(e){U!==null&&(ot===null?ot=[e]:ot.push(e))}let Se=null,Ne=0,Pe=null;function Ls(e){Pe=e}let vi=1,on=0,St=on;function yr(e){St=e}function pi(){return++vi}function Yt(e){var t=e.f;if((t&Ae)!==0)return!0;if(t&pe&&(e.f&=~Et),(t&je)!==0){var n=e.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var s=n[i];if(Yt(s)&&Jr(s),s.wv>e.wv)return!0}(t&Ue)!==0&&De===null&&ve(e,de)}return!1}function hi(e,t,n=!0){var r=e.reactions;if(r!==null&&!ot?.includes(e))for(var i=0;i<r.length;i++){var s=r[i];(s.f&pe)!==0?hi(s,t,!1):t===s&&(n?ve(s,Ae):(s.f&de)!==0&&ve(s,je),kt(s))}}function _i(e){var t=Se,n=Ne,r=Pe,i=U,s=ot,o=ee,a=Ye,c=St,u=e.f;Se=null,Ne=0,Pe=null,U=(u&(ut|$t))===0?e:null,ot=null,qt(e.ctx),Ye=!1,St=++on,e.ac!==null&&(Ln(()=>{e.ac.abort(Rt)}),e.ac=null);try{e.f|=Un;var f=e.fn,_=f(),d=e.deps;if(Se!==null){var h;if(xn(e,Ne),d!==null&&Ne>0)for(d.length=Ne+Se.length,h=0;h<Se.length;h++)d[Ne+h]=Se[h];else e.deps=d=Se;if(an()&&(e.f&Ue)!==0)for(h=Ne;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&Ne<d.length&&(xn(e,Ne),d.length=Ne);if(cn()&&Pe!==null&&!Ye&&d!==null&&(e.f&(pe|je|Ae))===0)for(h=0;h<Pe.length;h++)hi(Pe[h],e);return i!==null&&i!==e&&(on++,Pe!==null&&(r===null?r=Pe:r.push(...Pe))),(e.f&_t)!==0&&(e.f^=_t),_}catch(v){return Wr(v)}finally{e.f^=Un,Se=t,Ne=n,Pe=r,U=i,ot=s,qt(o),Ye=a,St=c}}function Fs(e,t){let n=t.reactions;if(n!==null){var r=Ci.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(t.f&pe)!==0&&(Se===null||!Se.includes(t))&&(ve(t,je),(t.f&Ue)!==0&&(t.f^=Ue,t.f&=~Et),Zr(t),xn(t,0))}function xn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Fs(e,n[r])}function jt(e){var t=e.f;if((t&st)===0){ve(e,de);var n=H,r=wt;H=e,wt=!0;try{(t&(ct|Ri))!==0?Ns(e):li(e),oi(e);var i=_i(e);e.teardown=typeof i=="function"?i:null,e.wv=vi;var s;Bn&&as&&(e.f&Ae)!==0&&e.deps}finally{wt=r,H=n}}}async function gi(){await Promise.resolve(),cs()}function l(e){var t=e.f,n=(t&pe)!==0;if(U!==null&&!Ye){var r=H!==null&&(H.f&st)!==0;if(!r&&!ot?.includes(e)){var i=U.deps;if((U.f&Un)!==0)e.rv<on&&(e.rv=on,Se===null&&i!==null&&i[Ne]===e?Ne++:Se===null?Se=[e]:Se.includes(e)||Se.push(e));else{(U.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[U]:s.includes(U)||s.push(U)}}}if(At){if(gt.has(e))return gt.get(e);if(n){var o=e,a=o.v;return((o.f&de)===0&&o.reactions!==null||bi(o))&&(a=rr(o)),gt.set(o,a),a}}else n&&(!De?.has(e)||V?.is_fork&&!an())&&(o=e,Yt(o)&&Jr(o),wt&&an()&&(o.f&Ue)===0&&mi(o));if(De?.has(e))return De.get(e);if((e.f&_t)!==0)throw e.v;return e.v}function mi(e){if(e.deps!==null){e.f^=Ue;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&pe)!==0&&(t.f&Ue)===0&&mi(t)}}function bi(e){if(e.v===me)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(gt.has(t)||(t.f&pe)!==0&&bi(t))return!0;return!1}function b(e){var t=Ye;try{return Ye=!0,e()}finally{Ye=t}}const Rs=-7169;function ve(e,t){e.f=e.f&Rs|t}function k(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(bt in e)Hn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&bt in n&&Hn(n)}}}function Hn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Hn(e[r],t)}catch{}const n=Xn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Or(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}const Ps=["touchstart","touchmove"];function Is(e){return Ps.includes(e)}const Os=new Set,wr=new Set;function Ds(e,t,n,r={}){function i(s){if(r.capture||en.call(t,s),!s.cancelBubble)return Ln(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Vt(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function ie(e,t,n,r,i){var s={capture:r,passive:i},o=Ds(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ir(()=>{t.removeEventListener(e,o,s)})}let Sr=null;function en(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;Sr=e;var o=0,a=Sr===e&&e.__root;if(a){var c=i.indexOf(a);if(c!==-1&&(t===document||t===window)){e.__root=t;return}var u=i.indexOf(t);if(u===-1)return;c<=u&&(o=c)}if(s=i[o]||e.target,s!==t){Ir(e,"currentTarget",{configurable:!0,get(){return s||n}});var f=U,_=H;ke(null),Ke(null);try{for(var d,h=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var m=s["__"+r];m!=null&&(!s.disabled||e.target===s)&&m.call(s,e)}catch(g){d?h.push(g):d=g}if(e.cancelBubble||v===t||v===null)break;s=v}if(d){for(let g of h)queueMicrotask(()=>{throw g});throw d}}finally{e.__root=t,delete e.currentTarget,ke(f),Ke(_)}}}function qs(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function $n(e,t){var n=H;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function $(e,t){var n=(t&ns)!==0,r=(t&rs)!==0,i,s=!e.startsWith("<!>");return()=>{i===void 0&&(i=qs(s?e:"<!>"+e),n||(i=En(i)));var o=r||ti?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=En(o),c=o.lastChild;$n(a,c)}else $n(o,o);return o}}function Er(e=""){{var t=at(e+"");return $n(t,t),t}}function lt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=at();return e.append(t,n),$n(t,n),e}function w(e,t){e!==null&&e.before(t)}function M(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Bs(e,t){return Us(e,t)}const Mt=new Map;function Us(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){ys();var a=new Set,c=_=>{for(var d=0;d<_.length;d++){var h=_[d];if(!a.has(h)){a.add(h);var v=Is(h);t.addEventListener(h,en,{passive:v});var m=Mt.get(h);m===void 0?(document.addEventListener(h,en,{passive:v}),Mt.set(h,1)):Mt.set(h,m+1)}}};c(An(Os)),wr.add(c);var u=void 0,f=$s(()=>{var _=n??t.appendChild(at());return vs(_,{pending:()=>{}},d=>{if(s){ze({});var h=ee;h.c=s}i&&(r.$$events=i),u=e(d,r)||{},s&&Ge()}),()=>{for(var d of a){t.removeEventListener(d,en);var h=Mt.get(d);--h===0?(document.removeEventListener(d,en),Mt.delete(d)):Mt.set(d,h)}wr.delete(c),_!==n&&_.parentNode?.removeChild(_)}});return js.set(u,f),u}let js=new WeakMap;class zs{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#s=()=>{var t=V;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)ar(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#t.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===t)break;const a=this.#r.get(o);a&&($e(a.effect),this.#r.delete(o))}for(const[s,o]of this.#t){if(s===n||this.#n.has(s))continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var u=document.createDocumentFragment();di(o,u),u.append(at()),this.#r.set(s,{effect:o,fragment:u})}else $e(o);this.#n.delete(s),this.#t.delete(s)};this.#l||!r?(this.#n.add(s),yt(o,a,!1)):a()}}};#i=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#r)n.includes(r)||($e(i.effect),this.#r.delete(r))};ensure(t,n){var r=V,i=ii();if(n&&!this.#t.has(t)&&!this.#r.has(t))if(i){var s=document.createDocumentFragment(),o=at();s.append(o),this.#r.set(t,{effect:Oe(()=>n(o)),fragment:s})}else this.#t.set(t,Oe(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[a,c]of this.#t)a===t?r.skipped_effects.delete(c):r.skipped_effects.add(c);for(const[a,c]of this.#r)a===t?r.skipped_effects.delete(c.effect):r.skipped_effects.add(c.effect);r.oncommit(this.#s),r.ondiscard(this.#i)}else this.#s()}}function L(e,t,n=!1){var r=new zs(e),i=n?Dt:0;function s(o,a){r.ensure(o,a)}sr(()=>{var o=!1;t((a,c=!0)=>{o=!0,s(c,a)}),o||s(!1,null)},i)}function Qe(e,t){return t}function Gs(e,t,n){for(var r=[],i=t.length,s,o=t.length,a=0;a<i;a++){let _=t[a];yt(_,()=>{if(s){if(s.pending.delete(_),s.done.add(_),s.pending.size===0){var d=e.outrogroups;Vn(An(s.done)),d.delete(s),d.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var c=r.length===0&&n!==null;if(c){var u=n,f=u.parentNode;ws(f),f.append(u),e.items.clear()}Vn(t,!c)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function Vn(e,t=!0){for(var n=0;n<e.length;n++)$e(e[n],t)}var kr;function qe(e,t,n,r,i,s=null){var o=e,a=new Map,c=(t&jr)!==0;if(c){var u=e;o=u.appendChild(at())}var f=null,_=un(()=>{var E=n();return Jn(E)?E:E==null?[]:An(E)}),d,h=!0;function v(){g.fallback=f,Hs(g,d,o,t,r),f!==null&&(d.length===0?(f.f&it)===0?ar(f):(f.f^=it,tn(f,null,o)):yt(f,()=>{f=null}))}var m=sr(()=>{d=l(_);for(var E=d.length,A=new Set,x=V,F=ii(),z=0;z<E;z+=1){var Z=d[z],j=r(Z,z),q=h?null:a.get(j);q?(q.v&&Ut(q.v,Z),q.i&&Ut(q.i,z),F&&x.skipped_effects.delete(q.e)):(q=Vs(a,h?o:kr??=at(),Z,j,z,i,t,n),h||(q.e.f|=it),a.set(j,q)),A.add(j)}if(E===0&&s&&!f&&(h?f=Oe(()=>s(o)):(f=Oe(()=>s(kr??=at())),f.f|=it)),!h)if(F){for(const[le,te]of a)A.has(le)||x.skipped_effects.add(te.e);x.oncommit(v),x.ondiscard(()=>{})}else v();l(_)}),g={effect:m,items:a,outrogroups:null,fallback:f};h=!1}function Hs(e,t,n,r,i){var s=(r&Qi)!==0,o=t.length,a=e.items,c=e.effect.first,u,f=null,_,d=[],h=[],v,m,g,E;if(s)for(E=0;E<o;E+=1)v=t[E],m=i(v,E),g=a.get(m).e,(g.f&it)===0&&(g.nodes?.a?.measure(),(_??=new Set).add(g));for(E=0;E<o;E+=1){if(v=t[E],m=i(v,E),g=a.get(m).e,e.outrogroups!==null)for(const te of e.outrogroups)te.pending.delete(g),te.done.delete(g);if((g.f&it)!==0)if(g.f^=it,g===c)tn(g,null,n);else{var A=f?f.next:c;g===e.effect.last&&(e.effect.last=g.prev),g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),pt(e,f,g),pt(e,g,A),tn(g,A,n),f=g,d=[],h=[],c=f.next;continue}if((g.f&Ce)!==0&&(ar(g),s&&(g.nodes?.a?.unfix(),(_??=new Set).delete(g))),g!==c){if(u!==void 0&&u.has(g)){if(d.length<h.length){var x=h[0],F;f=x.prev;var z=d[0],Z=d[d.length-1];for(F=0;F<d.length;F+=1)tn(d[F],x,n);for(F=0;F<h.length;F+=1)u.delete(h[F]);pt(e,z.prev,Z.next),pt(e,f,z),pt(e,Z,x),c=x,f=Z,E-=1,d=[],h=[]}else u.delete(g),tn(g,c,n),pt(e,g.prev,g.next),pt(e,g,f===null?e.effect.first:f.next),pt(e,f,g),f=g;continue}for(d=[],h=[];c!==null&&c!==g;)(u??=new Set).add(c),h.push(c),c=c.next;if(c===null)continue}(g.f&it)===0&&d.push(g),f=g,c=g.next}if(e.outrogroups!==null){for(const te of e.outrogroups)te.pending.size===0&&(Vn(An(te.done)),e.outrogroups?.delete(te));e.outrogroups.size===0&&(e.outrogroups=null)}if(c!==null||u!==void 0){var j=[];if(u!==void 0)for(g of u)(g.f&Ce)===0&&j.push(g);for(;c!==null;)(c.f&Ce)===0&&c!==e.fallback&&j.push(c),c=c.next;var q=j.length;if(q>0){var le=(r&jr)!==0&&o===0?n:null;if(s){for(E=0;E<q;E+=1)j[E].nodes?.a?.measure();for(E=0;E<q;E+=1)j[E].nodes?.a?.fix()}Gs(e,j,le)}}s&&Vt(()=>{if(_!==void 0)for(g of _)g.nodes?.a?.apply()})}function Vs(e,t,n,r,i,s,o,a){var c=(o&Wi)!==0?(o&Ki)===0?B(n,!1,!1):xt(n):null,u=(o&Yi)!==0?xt(i):null;return{v:c,i:u,e:Oe(()=>(s(t,c??n,u??i,a),()=>{e.delete(r)}))}}function tn(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&it)===0?t.nodes.start:n;r!==null;){var o=fn(r);if(s.before(r),r===i)return;r=o}}function pt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const xr=[...` 	
\r\f \v\uFEFF`];function Ws(e,t,n){var r=e==null?"":""+e;if(n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||xr.includes(r[o-1]))&&(a===r.length||xr.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function rt(e,t,n,r,i,s){var o=e.__className;if(o!==n||o===void 0){var a=Ws(n,r,s);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(s&&i!==s)for(var c in s){var u=!!s[c];(i==null||u!==!!i[c])&&e.classList.toggle(c,u)}return s}const Ys=Symbol("is custom element"),Qs=Symbol("is html");function Ve(e,t,n,r){var i=Ks(e);i[t]!==(i[t]=n)&&(t==="loading"&&(e[Ii]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Zs(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ks(e){return e.__attributes??={[Ys]:e.nodeName.includes("-"),[Qs]:e.namespaceURI===is}}var $r=new Map;function Zs(e){var t=e.getAttribute("is")||e.nodeName,n=$r.get(t);if(n)return n;$r.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=Or(i);for(var o in r)r[o].set&&n.push(o);i=Xn(i)}return n}function Js(e,t,n=t){var r=new WeakSet;Es(e,"input",async i=>{var s=i?e.defaultValue:e.value;if(s=Rn(e)?Pn(s):s,n(s),V!==null&&r.add(V),await gi(),s!==(s=t())){var o=e.selectionStart,a=e.selectionEnd,c=e.value.length;if(e.value=s??"",a!==null){var u=e.value.length;o===a&&a===c&&u>c?(e.selectionStart=u,e.selectionEnd=u):(e.selectionStart=o,e.selectionEnd=Math.min(a,u))}}}),b(t)==null&&e.value&&(n(Rn(e)?Pn(e.value):e.value),V!==null&&r.add(V)),dn(()=>{var i=t();if(e===document.activeElement){var s=mn??V;if(r.has(s))return}Rn(e)&&i===Pn(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Rn(e){var t=e.type;return t==="number"||t==="range"}function Pn(e){return e===""?null:+e}function Ar(e,t){return e===t||e?.[bt]===t}function Tr(e={},t,n,r){return As(()=>{var i,s;return dn(()=>{i=s,s=[],b(()=>{e!==n(...s)&&(t(e,...s),i&&Ar(n(...i),e)&&t(null,...i))})}),()=>{Vt(()=>{s&&Ar(n(...s),e)&&t(null,...s)})}}),e}function Xs(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function Je(e=!1){const t=ee,n=t.l.u;if(!n)return;let r=()=>k(t.s);if(e){let i=0,s={};const o=Mn(()=>{let a=!1;const c=t.s;for(const u in c)c[u]!==s[u]&&(s[u]=c[u],a=!0);return a&&i++,i});r=()=>l(o)}n.b.length&&xs(()=>{Nr(t,r),wn(n.b)}),Gn(()=>{const i=b(()=>n.m.map(Fi));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Gn(()=>{Nr(t,r),wn(n.a)})}function Nr(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}function or(e,t,n){if(e==null)return t(void 0),n&&n(void 0),ht;const r=b(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Lt=[];function ea(e,t){return{subscribe:He(e,t).subscribe}}function He(e,t=ht){let n=null;const r=new Set;function i(a){if(Gr(e,a)&&(e=a,n)){const c=!Lt.length;for(const u of r)u[1](),Lt.push(u,e);if(c){for(let u=0;u<Lt.length;u+=2)Lt[u][0](Lt[u+1]);Lt.length=0}}}function s(a){i(a(e))}function o(a,c=ht){const u=[a,c];return r.add(u),r.size===1&&(n=t(i,s)||ht),a(e),()=>{r.delete(u),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function ta(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return ea(n,(o,a)=>{let c=!1;const u=[];let f=0,_=ht;const d=()=>{if(f)return;_();const v=t(r?u[0]:u,o,a);s?o(v):_=typeof v=="function"?v:ht},h=i.map((v,m)=>or(v,g=>{u[m]=g,f&=~(1<<m),c&&d()},()=>{f|=1<<m}));return c=!0,d(),function(){wn(h),_(),c=!1}})}function na(e){let t;return or(e,n=>t=n)(),t}let hn=!1,Wn=Symbol();function be(e,t,n){const r=n[t]??={store:null,source:B(void 0),unsubscribe:ht};if(r.store!==e&&!(Wn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=ht;else{var i=!0;r.unsubscribe=or(e,s=>{i?r.source.v=s:T(r.source,s)}),i=!1}return e&&Wn in n?na(e):l(r.source)}function ra(e,t){return e.set(t),t}function Qt(){const e={};function t(){ir(()=>{for(var n in e)e[n].unsubscribe();Ir(e,Wn,{enumerable:!1,value:!0})})}return[e,t]}function ia(e){var t=hn;try{return hn=!1,[e(),hn]}finally{hn=t}}function Me(e,t,n,r){var i=!Ht||(n&Ji)!==0,s=(n&es)!==0,o=(n&ts)!==0,a=r,c=!0,u=()=>(c&&(c=!1,a=o?b(r):r),a),f;if(s){var _=bt in e||Pi in e;f=Ot(e,t)?.set??(_&&t in e?x=>e[t]=x:void 0)}var d,h=!1;s?[d,h]=ia(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=u(),f&&(i&&ji(),f(d)));var v;if(i?v=()=>{var x=e[t];return x===void 0?u():(c=!0,x)}:v=()=>{var x=e[t];return x!==void 0&&(a=void 0),x===void 0?a:x},i&&(n&Xi)===0)return v;if(f){var m=e.$$legacy;return(function(x,F){return arguments.length>0?((!i||!F||m||h)&&f(F?v():x),x):v()})}var g=!1,E=((n&Zi)!==0?Mn:un)(()=>(g=!1,v()));s&&l(E);var A=H;return(function(x,F){if(arguments.length>0){const z=F?l(E):i&&s?Pt(x):x;return T(E,z),g=!0,a!==void 0&&(a=z),x}return At&&g||(A.f&st)!==0?E.v:l(E)})}function lr(e){ee===null&&Ur(),Ht&&ee.l!==null?oa(ee).m.push(e):Gn(()=>{const t=b(e);if(typeof t=="function")return t})}function sa(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function aa(){const e=ee;return e===null&&Ur(),(t,n,r)=>{const i=e.s.$$events?.[t];if(i){const s=Jn(i)?i.slice():[i],o=sa(t,n,r);for(const a of s)a.call(e.x,o);return!o.defaultPrevented}return!0}}function oa(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const la="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(la);os();const Zt={site:{title:"Soustack",pageTitle:null,owner:null,tagline:"Your recipes, organized.",logoUrl:null},features:{enableScaling:!0,enableSharing:!1,enableImport:!0},theme:{primaryColor:null,fontFamily:null},data:{storageKey:"soustack-recipes"},branding:{showAttribution:!0,repoUrl:"https://github.com/yourusername/soustack"}},Ft={site:{title:"Soustack",pageTitle:null,owner:null,tagline:"Your recipes, organized.",logoUrl:null},features:{enableScaling:!0,enableSharing:!1,enableImport:!0},theme:{primaryColor:null,fontFamily:null},data:{storageKey:"soustack-recipes"},branding:{showAttribution:!0,repoUrl:"https://github.com/yourusername/soustack"}},xe={site:Jt(Ft.site,Zt?.site),features:Jt(Ft.features,Zt?.features),theme:Jt(Ft.theme,Zt?.theme),data:Jt(Ft.data,Zt?.data),branding:Jt(Ft.branding,Zt?.branding)};function Jt(e,t){return{...e,...t||{}}}function yi(){const e=xe.site.owner?.trim();return e?`${e}'s Recipe Collection`:xe.site.title}function ca(){return xe.site.tagline?.trim()||""}function ua(){const e=xe.site.pageTitle?.trim();return e||yi()}function fa(e=typeof document<"u"?document:null){e&&(xe.theme.primaryColor&&e.documentElement?.style?.setProperty("--primary-color",xe.theme.primaryColor),xe.theme.fontFamily&&e.body&&(e.body.style.fontFamily=xe.theme.fontFamily))}function da(){return xe.branding.showAttribution!==!1}function va(){return xe.branding.repoUrl||Ft.branding.repoUrl}var pa=$('<img class="site-logo" loading="lazy"/>'),ha=$('<p class="lead"> </p>'),_a=$('<header><div class="container site-header"><!> <div class="site-heading"><h1> </h1> <!></div></div></header>');function ga(e,t){ze(t,!1);const n=yi(),r=ca(),i=xe.site.logoUrl?.trim()||null;Je();var s=_a(),o=p(s),a=p(o);{var c=v=>{var m=pa();P(()=>{Ve(m,"src",i),Ve(m,"alt",`${n} logo`)}),w(v,m)};L(a,v=>{i&&v(c)})}var u=y(a,2),f=p(u),_=p(f),d=y(f,2);{var h=v=>{var m=ha(),g=p(m);P(()=>M(g,r)),w(v,m)};L(d,v=>{r&&v(h)})}P(()=>M(_,n)),w(e,s),Ge()}const Yn=He(""),bn=He([]),vn=He([]),yn=He(!1),nn=He(!1),ma=ta(vn,e=>e.length);function ba(e){e&&vn.update(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),Array.from(n)})}function ya(){vn.set([])}var wa=$('<section class="search-section" id="search"><div class="search-bar"><span class="search-icon" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" role="img" focusable="false"><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="1.5" fill="none"></circle><line x1="16.5" y1="16.5" x2="22" y2="22" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></line></svg></span> <input type="search" name="recipe-search" placeholder="Search by name, ingredient, or technique" autocomplete="off"/></div></section>');function Sa(e){const t=()=>be(Yn,"$searchQuery",n),[n,r]=Qt();var i=wa(),s=p(i),o=y(p(s),2);Js(o,t,a=>ra(Yn,a)),w(e,i),r()}var Ea=$('<button type="button"> </button>'),ka=$('<button type="button" class="category-btn">Clear</button>'),xa=$('<div class="category-filter"><p class="category-label">Filter by tag</p> <div class="category-buttons"><!> <!></div></div>');function $a(e,t){ze(t,!1);const n=()=>be(bn,"$activeFilters",r),[r,i]=Qt(),s=B();let o=Me(t,"recipes",24,()=>[]);function a(d){d&&bn.update(h=>{const v=new Set(h);return v.has(d)?v.delete(d):v.add(d),Array.from(v)})}function c(){bn.set([])}Y(()=>k(o()),()=>{T(s,Array.from(new Set(o().flatMap(d=>d.tags||[]).filter(Boolean))).sort((d,h)=>d.localeCompare(h)))}),Wt(),Je();var u=lt(),f=Be(u);{var _=d=>{var h=xa(),v=y(p(h),2),m=p(v);qe(m,1,()=>l(s),Qe,(A,x)=>{var F=Ea();let z;var Z=p(F);P(j=>{z=rt(F,1,"category-btn",null,z,j),M(Z,l(x))},[()=>({active:n().includes(l(x))})]),ie("click",F,()=>a(l(x))),w(A,F)});var g=y(m,2);{var E=A=>{var x=ka();ie("click",x,c),w(A,x)};L(g,A=>{n(),b(()=>n().length)&&A(E)})}w(d,h)};L(f,d=>{l(s),b(()=>l(s).length)&&d(_)})}w(e,u),Ge(),i()}const Aa=[2,3,4,6,8,10,12,16];function Ta(e){if(typeof e!="number"||Number.isNaN(e))return"";const t=e<0?"-":"",n=Math.abs(e),r=Math.floor(n),i=n-r;if(i<.01)return`${t}${r||0}`.trim();let s=0,o=1,a=Number.POSITIVE_INFINITY;for(const f of Aa){const _=Math.round(i*f),d=_/f,h=Math.abs(d-i);h<a&&_!==0&&(a=h,s=_,o=f)}const c=s?`${s}/${o}`:i.toFixed(2).replace(/\.00$/,""),u=[];return t&&u.push(t),r>0&&u.push(String(r)),c&&u.push(c),u.join(" ").replace(/-\\s/,"-").trim()}function zt(e,t){if(typeof e!="number"||Number.isNaN(e))return"";const n=Ta(e);if(!t)return n;const r=Na(t,e);return`${n} ${r}`.trim()}function Na(e,t){if(!e)return"";const n=e.toLowerCase();return t===1||n.includes("/")||n.endsWith("s")?n:`${n}s`}function nt(e){if(typeof e!="number"||Number.isNaN(e))return null;const t=Math.floor(e/60),n=Math.round(e%60);return t&&n?`${t} hr ${n} min`:t?`${t} hr`:`${n} min`}const Ca={"¼":"1/4","½":"1/2","¾":"3/4","⅓":"1/3","⅔":"2/3","⅛":"1/8","⅜":"3/8","⅝":"5/8","⅞":"7/8"};function cr(e=""){return e.replace(/[¼½¾⅓⅔⅛⅜⅝⅞]/g,t=>Ca[t]||t)}function Ma(e){return!!(e&&typeof e=="object"&&e.subsection&&Array.isArray(e.items))}function Cr(e){return!!(e&&typeof e=="object"&&e.subsection&&Array.isArray(e.items))}function La(e){return e?typeof e=="string"?e:typeof e=="object"&&e.item?e.item:"":""}function Mr(e){return e?typeof e=="string"?e:e.text?e.text:"":""}function In(e=""){return cr(e.trim()).replace(/^([\d/().\s-]+)([a-zA-Z]+)?\s*/,"").trim()}function Fa(e=""){const t=cr(e.trim()),n=t.match(/^([\d/().\s-]+)/);if(!n)return null;const r=n[1].trim(),i=t.slice(n[0].length).trim(),s=i.match(/^([a-zA-Z]+)\b/);let o=null,a=i;s&&(o=s[1],a=i.slice(o.length).trim());const c=Ra(r);return c===null?null:{quantity:c,unit:o,name:a}}function Ra(e){if(!e)return null;const t=e.split(/\s+/).filter(Boolean);let n=0;for(const r of t)if(r.includes("/")){const[i,s]=r.split("/").map(Number);if(!s)return null;n+=i/s}else{const i=Number(r.replace(/[^0-9.]/g,""));if(Number.isNaN(i))return null;n+=i}return Math.round(n*100)/100}function wi(e=[]){const t=[];return e.forEach(n=>{Ma(n)?n.items.forEach(r=>t.push({...r,subsection:n.subsection})):t.push(n)}),t}const Pa="linear",Ia=new Set(["linear","sublinear","fixed","taste","stepped"]);function ln(e,t=1){const n=La(e);if(!n)return{display:"",warning:null};const r=Oa(e);if(r==="taste")return{display:n,warning:e?.scaleNote||"Adjust to taste",scaleBehavior:r,parsedName:In(n)};const i=Da(e,n);if(!i)return{display:n,warning:null,scaleBehavior:r,parsedName:In(n)};const s=qa(i.amount,r,t),o=e?.name||e?.label||In(n),a=`${zt(s.amount,i.unit)}${o?` ${o}`:""}`.trim();let c=null;if(r==="fixed"&&t!==1)c=e?.scaleNote||"Amount does not scale";else if(r==="stepped"&&s.roundedFrom!=null&&Math.abs(s.roundedFrom-s.amount)>=.01){const u=zt(s.roundedFrom,i.unit);c=e?.scaleNote||`Rounded from ${u}`}else r==="sublinear"&&t!==1?c=e?.scaleNote||"Season gently when scaling":e?.scaleNote&&t!==1&&(c=e.scaleNote);return{display:a,warning:c,scaleBehavior:r,scaledQuantity:s.amount,unit:i.unit,parsedName:o,category:e?.aisle||e?.category||null}}function Oa(e){const t=e?.scaleBehavior?.toLowerCase?.();return t&&Ia.has(t)?t:Pa}function Da(e,t){if(e?.quantity&&typeof e.quantity.amount=="number")return{amount:e.quantity.amount,unit:e.quantity.unit||null};const n=Fa(t);return n?{amount:n.quantity,unit:n.unit}:null}function qa(e,t,n){const r=typeof n=="number"&&Number.isFinite(n)?n:1;switch(t){case"linear":return{amount:Xt(e*r)};case"sublinear":return{amount:Xt(e*Math.sqrt(Math.max(r,0)))};case"fixed":return{amount:Xt(e)};case"stepped":{const i=e*r;return{amount:Math.max(1,Math.round(i)),roundedFrom:Xt(i)}}default:return{amount:Xt(e*r)}}}function Xt(e){return Math.round(e*100)/100}var Ba=$('<li class="ingredient-subsection"><p class="subsection-label"> </p> <!></li>'),Ua=$('<small class="ingredient-note"> </small>'),ja=$("<li><span> </span> <!></li>"),za=$('<ul class="ingredients-list"></ul>');function Si(e,t){ze(t,!1);let n=Me(t,"ingredients",24,()=>[]),r=Me(t,"scaleFactor",8,1);const i=o=>o&&typeof o=="object"&&o.subsection&&Array.isArray(o.items);Je();var s=za();qe(s,5,n,o=>o.item||o.subsection||o,(o,a)=>{var c=lt(),u=Be(c);{var f=d=>{var h=Ba(),v=p(h),m=p(v),g=y(v,2);Si(g,{get ingredients(){return l(a),b(()=>l(a).items)},get scaleFactor(){return r()}}),P(()=>M(m,(l(a),b(()=>l(a).subsection)))),w(d,h)},_=d=>{const h=un(()=>(k(ln),l(a),k(r()),b(()=>ln(l(a),r()))));var v=lt(),m=Be(v);{var g=E=>{var A=ja();let x;var F=p(A),z=p(F),Z=y(F,2);{var j=q=>{var le=Ua(),te=p(le);P(()=>M(te,(k(l(h)),b(()=>l(h).warning)))),w(q,le)};L(Z,q=>{k(l(h)),b(()=>l(h).warning)&&q(j)})}P(q=>{x=rt(A,1,"",null,x,q),M(z,(k(l(h)),b(()=>l(h).display)))},[()=>({flagged:!!l(h).warning})]),w(E,A)};L(m,E=>{k(l(h)),b(()=>l(h).display)&&E(g)})}w(d,v)};L(u,d=>{l(a),b(()=>i(l(a)))?d(f):d(_,!1)})}w(o,c)}),w(e,s),Ge()}var Ga=$("<li> </li>"),Ha=$('<li class="instruction-subsection"><p class="subsection-label"> </p> <ol></ol></li>'),Va=$('<small class="instruction-note"> </small>'),Wa=$("<li><p> </p> <!></li>"),Ya=$('<ol class="instructions-list"></ol>');function Qa(e,t){ze(t,!1);let n=Me(t,"instructions",24,()=>[]),r=Me(t,"scaleFactor",8,1);function i(o,a){return o?.scaleAdjustment?typeof o.scaleAdjustment.trigger!="number"?!0:a>=o.scaleAdjustment.trigger:!1}Je();var s=Ya();qe(s,5,n,Qe,(o,a)=>{var c=lt(),u=Be(c);{var f=d=>{var h=Ha(),v=p(h),m=p(v),g=y(v,2);qe(g,5,()=>(l(a),b(()=>l(a).items)),Qe,(E,A)=>{var x=Ga(),F=p(x);P(()=>M(F,l(A))),w(E,x)}),P(()=>M(m,(l(a),b(()=>l(a).subsection)))),w(d,h)},_=d=>{var h=Wa(),v=p(h),m=p(v),g=y(v,2);{var E=A=>{var x=Va(),F=p(x);P(()=>M(F,(l(a),b(()=>l(a).scaleAdjustment.note)))),w(A,x)};L(g,A=>{l(a),k(r()),b(()=>i(l(a),r()))&&A(E)})}P(A=>M(m,A),[()=>(k(Mr),l(a),b(()=>Mr(l(a))))]),w(d,h)};L(u,d=>{k(Cr),l(a),b(()=>Cr(l(a)))?d(f):d(_,!1)})}w(o,c)}),w(e,s),Ge()}const Qn=He([]),Kn=He(!0),Zn=He(null),Ei=He({}),Ka="recipes-index.json",Za="data/techniques.json";async function Ja(){Kn.set(!0),Zn.set(null);try{const[e,t]=await Promise.all([On(Ka),On(Za).catch(()=>({}))]);Ei.set(t);const n=Array.isArray(e?.recipes)?e.recipes:[],r=n.length?n:["sample-recipe.json"],s=(await Promise.all(r.map(async o=>{try{const a=await On(`recipes/${o}`);return Xa(a,o)}catch(a){return console.error(`Failed to load recipe ${o}`,a),null}}))).filter(Boolean).sort(eo);Qn.set(s)}catch(e){console.error("Recipe loading failed",e),Zn.set("Failed to load recipes. Double-check recipes-index.json."),Qn.set([])}finally{Kn.set(!1)}}function Xa(e,t=""){if(!e)return null;const n={...e},r=n.name||t.replace(/\.json$/i,"");return n.name=r,n.slug=n.slug||to(r),n.tags=Array.isArray(n.tags)?n.tags:n.category?[n.category]:[],n}function eo(e,t){const n=e?.dateAdded?new Date(e.dateAdded).getTime():0,r=t?.dateAdded?new Date(t.dateAdded).getTime():0;return n!==r?r-n:(e?.name||"").localeCompare(t?.name||"")}function to(e){return(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,80)}function no(e){const t=e.replace(/^\/+/,""),n=[],r=ro();return r&&n.push(`${r}${t}`),n.push(`/${t}`),n.push(t),Array.from(new Set(n))}function ro(e){return""}async function On(e){const t=no(e);let n=null;for(const r of t)try{const i=await fetch(r);if(!i.ok){n=new Error(`Request failed with status ${i.status}`);continue}return await i.json()}catch(i){n=i}throw n||new Error(`Unable to load ${e}`)}var io=$('<p class="mise-remaining-time"> </p>'),so=$('<span class="mise-check-subtext"> </span>'),ao=$('<li><label class="mise-check-row"><input type="checkbox" class="mise-check"/> <span class="mise-check-label"> </span> <!></label></li>'),oo=$('<section class="mise-section mise-equipment"><div class="mise-group"><div class="mise-group-header"><div><p class="mise-group-title">Gather Equipment</p> <p class="mise-group-subtitle">Keep these tools within reach</p></div> <span class="mise-group-count"> </span></div> <ul class="mise-checklist"></ul></div></section>'),lo=$('<span class="mise-check-meta"> </span>'),co=$('<span class="mise-check-subtext"> </span>'),uo=$('<li><label class="mise-check-row"><input type="checkbox" class="mise-check"/> <span class="mise-check-label"> </span> <!></label> <!></li>'),fo=$('<div class="mise-group"><div class="mise-group-header"><div><p class="mise-group-title"> </p> <p class="mise-group-subtitle">Prep before you start</p></div> <span class="mise-group-count"> </span></div> <ul class="mise-checklist"></ul></div>'),vo=$('<section class="mise-section"><h4>Prep Tasks</h4> <!></section>'),po=$('<p class="empty-state">Add prep metadata to ingredients to unlock mise en place view.</p>'),ho=$('<p class="mise-check-subtext"> </p>'),_o=$('<li><label class="mise-check-row"><input type="checkbox" class="mise-check"/> <span class="mise-check-label"> </span></label> <!></li>'),go=$('<section class="mise-section mise-techniques"><h4>Techniques</h4> <ul class="mise-checklist"></ul></section>'),mo=$('<div class="mise-view"><header class="mise-header"><div><p class="mise-total-time"> </p> <!></div></header> <!> <!> <!></div>');function bo(e,t){ze(t,!1);const n=()=>be(Ei,"$techniques",r),[r,i]=Qt(),s=B(),o=B(),a=B(),c=B();let u=Me(t,"recipe",8),f=Me(t,"scaleFactor",8,1);const _="General Prep";function d(R){const O=new Map;return R.forEach(J=>{const Q=J.prepAction||_;O.has(Q)||O.set(Q,[]),O.get(Q).push(J)}),Array.from(O.entries()).map(([J,Q])=>({label:J,items:Q}))}function h(R){const O=[];return R.prep&&O.push(R.prep),R.destination&&O.push(`To: ${R.destination}`),O.join(" • ")}Y(()=>k(u()),()=>{T(s,wi(u()?.ingredients||[]).filter(R=>R?.prepAction||R?.prep||R?.destination||R?.item))}),Y(()=>l(s),()=>{T(o,d(l(s)))}),Y(()=>(k(u()),n()),()=>{T(a,(u()?.techniques||[]).map(R=>({name:R,detail:n()?.[R]||null})))}),Y(()=>l(s),()=>{T(c,l(s).length)}),Wt(),Je();var v=mo(),m=p(v),g=p(m),E=p(g),A=p(E),x=y(E,2);{var F=R=>{var O=io(),J=p(O);P(Q=>M(J,`Prep time ${Q??""}`),[()=>(k(nt),k(u()),b(()=>nt(u().time.prep)))]),w(R,O)};L(x,R=>{k(u()),b(()=>u()?.time?.prep)&&R(F)})}var z=y(m,2);{var Z=R=>{var O=oo(),J=p(O),Q=p(J),W=y(p(Q),2),ue=p(W),G=y(Q,2);qe(G,5,()=>(k(u()),b(()=>u().equipment)),Qe,(K,X,Te)=>{var se=ao(),ce=p(se),he=y(p(ce),2),ye=p(he),re=y(he,2);{var Fe=we=>{var _e=so(),Ee=p(_e);P(()=>M(Ee,(l(X),b(()=>l(X).label)))),w(we,_e)};L(re,we=>{l(X),b(()=>l(X).label)&&we(Fe)})}P(()=>M(ye,(l(X),b(()=>l(X).name||l(X).label||`Tool ${Te+1}`)))),w(K,se)}),P(()=>M(ue,`${k(u()),b(()=>u().equipment.length)??""} item${k(u()),b(()=>u().equipment.length===1?"":"s")??""}`)),w(R,O)};L(z,R=>{k(u()),b(()=>u()?.equipment?.length)&&R(Z)})}var j=y(z,2);{var q=R=>{var O=vo(),J=y(p(O),2);qe(J,1,()=>l(o),Qe,(Q,W)=>{var ue=fo(),G=p(ue),K=p(G),X=p(K),Te=p(X),se=y(K,2),ce=p(se),he=y(G,2);qe(he,5,()=>(l(W),b(()=>l(W).items)),Qe,(ye,re)=>{const Fe=un(()=>(k(ln),l(re),k(f()),b(()=>ln(l(re),f()))));var we=uo(),_e=p(we),Ee=y(p(_e),2),D=p(Ee),ae=y(Ee,2);{var N=I=>{var fe=lo(),oe=p(fe);P(ne=>M(oe,ne),[()=>(l(re),b(()=>h(l(re))))]),w(I,fe)};L(ae,I=>{l(re),b(()=>h(l(re)))&&I(N)})}var S=y(_e,2);{var C=I=>{var fe=co(),oe=p(fe);P(()=>M(oe,`~ ${l(re),b(()=>l(re).prepTime)??""} min`)),w(I,fe)};L(S,I=>{l(re),b(()=>l(re).prepTime)&&I(C)})}P(()=>M(D,(k(l(Fe)),l(re),b(()=>l(Fe).display||l(re).item)))),w(ye,we)}),P(()=>{M(Te,(l(W),b(()=>l(W).label))),M(ce,`${l(W),b(()=>l(W).items.length)??""} item${l(W),b(()=>l(W).items.length===1?"":"s")??""}`)}),w(Q,ue)}),w(R,O)},le=R=>{var O=po();w(R,O)};L(j,R=>{l(o),b(()=>l(o).length)?R(q):R(le,!1)})}var te=y(j,2);{var Le=R=>{var O=go(),J=y(p(O),2);qe(J,5,()=>l(a),Qe,(Q,W)=>{var ue=_o(),G=p(ue),K=y(p(G),2),X=p(K),Te=y(G,2);{var se=ce=>{var he=ho(),ye=p(he);P(()=>M(ye,(l(W),b(()=>l(W).detail.definition)))),w(ce,he)};L(Te,ce=>{l(W),b(()=>l(W).detail?.definition)&&ce(se)})}P(()=>M(X,(l(W),b(()=>l(W).detail?.label||l(W).name)))),w(Q,ue)}),w(R,O)};L(te,R=>{l(a),b(()=>l(a).length)&&R(Le)})}P(()=>M(A,`${l(c)??""} prep ${l(c)===1?"task":"tasks"}`)),w(e,v),Ge(),i()}const ki=.25,xi=4;function yo(){const{subscribe:e,update:t}=He({});function n(a){a?.name&&t(c=>c[a.name]?c:{...c,[a.name]:wo(a)})}function r(a,c){a&&t(u=>{const f=u[a];if(!f)return u;const _=Lr(c??f.currentServings,f),d={...f,currentServings:_,scaleFactor:f.baseServings?Dn(_/f.baseServings):1};return{...u,[a]:d}})}function i(a,c){a&&t(u=>{const f=u[a];if(!f)return u;const _=Lr(f.currentServings+c,f),d={...f,currentServings:_,scaleFactor:f.baseServings?Dn(_/f.baseServings):1};return{...u,[a]:d}})}function s(a,c){a&&t(u=>{const f=u[a];if(!f||!f.baseServings)return u;const _=Dn(c),d={...f,scaleFactor:_,currentServings:Math.max(.25,Math.round(f.baseServings*_*100)/100)};return{...u,[a]:d}})}function o(a){a&&t(c=>{const u=c[a];return u?{...c,[a]:{...u,currentServings:u.baseServings||1,scaleFactor:1}}:c})}return{subscribe:e,initRecipe:n,setServings:r,adjustServings:i,setFactor:s,reset:o}}function wo(e){const t=typeof e?.servings?.amount=="number"?e.servings.amount:null,n=e?.servings?.unit||"servings",r=e?.servings?.note||null;return{baseServings:t,unit:n,note:r,currentServings:t||1,scaleFactor:1}}function Lr(e,t){const n=t.baseServings||1,r=Math.max(.25,n*ki);return typeof e!="number"||Number.isNaN(e)?n:Math.max(r,Math.min(e,n*xi))}function Dn(e){return typeof e!="number"||Number.isNaN(e)?1:Math.max(ki,Math.min(e,xi))}const It=yo();var So=$('<span class="servings-note"> </span>'),Eo=$('<span class="servings-scaled-badge"> </span>'),ko=$('<div class="servings-section full-width-block prevent-card-toggle"><div class="servings-stepper-row"><span class="servings-label"> </span> <div class="servings-stepper"><button type="button" class="servings-btn" aria-label="Decrease servings">−</button> <span class="servings-value"> </span> <button type="button" class="servings-btn" aria-label="Increase servings">+</button></div> <span class="servings-unit"> </span> <!></div> <div class="servings-presets"><button type="button" class="servings-preset-btn">Half</button> <button type="button">Original</button> <button type="button" class="servings-preset-btn">Double</button></div> <div class="servings-meta-row"><!> <button type="button" class="servings-reset-btn">Reset</button></div></div>'),xo=$("<li> </li>"),$o=$('<div class="scale-warning-box full-width-block prevent-card-toggle"><div class="scale-warning-header"><span class="scale-warning-title">⚠️ Scaling Tips</span></div> <ul class="scale-warning-list"></ul></div>'),Ao=$('<section class="ingredients-section"><h3>Ingredients</h3> <!></section>'),To=$('<section class="instructions-section"><h3>Instructions</h3> <!></section>'),No=$("<span> </span>"),Co=$("<span> </span>"),Mo=$("<span> </span>"),Lo=$('<div class="time-summary"><!> <!> <!></div>'),Fo=$('<div class="recipe-view-toggle"><button type="button">Recipe</button> <button type="button">Mise en Place</button></div> <div class="recipe-view-panels"><section><div class="cook-view-grid"><!> <!> <!> <!></div> <!></section> <section><!></section></div>',1);function Ro(e,t){ze(t,!1);const n=()=>be(It,"$scalingStore",r),[r,i]=Qt(),s=B(),o=B(),a=B(),c=B(),u=B(),f=B(),_=B(),d=B(),h=B();let v=Me(t,"recipe",8);const m=xe.features.enableScaling!==!1;let g=B("cook");function E(D){T(g,D)}function A(D){!m||!v()?.name||It.adjustServings(v().name,D)}function x(D){!m||!v()?.name||It.setServings(v().name,D)}function F(){!m||!v()?.name||It.reset(v().name)}function z(){!m||!l(a)||x(Math.max(.25,l(a)/2))}function Z(){!m||!l(a)||x(l(a)*2)}function j(D){return typeof D!="number"?l(a)?zt(l(a),null):"—":zt(D,null)}Y(()=>(n(),k(v())),()=>{T(s,m?n()?.[v()?.name]:null)}),Y(()=>l(s),()=>{T(o,m?l(s)?.scaleFactor??1:1)}),Y(()=>(l(s),k(v())),()=>{T(a,l(s)?.baseServings??v()?.servings?.amount??null)}),Y(()=>(l(s),l(a)),()=>{T(c,l(s)?.currentServings??l(a))}),Y(()=>(l(s),k(v())),()=>{T(u,l(s)?.unit||v()?.servings?.unit||"servings")}),Y(()=>(k(v()),l(s)),()=>{T(f,v()?.servings?.note||l(s)?.note||"")}),Y(()=>l(u),()=>{T(_,l(u)?/serving|portion/i.test(l(u)):!0)}),Y(()=>l(_),()=>{T(d,l(_)?"Serves":"Makes")}),Y(()=>(k(v()),l(o)),()=>{T(h,m&&Array.isArray(v()?.scaleWarnings)&&v().scaleWarnings.length>0&&l(o)!==1)}),Wt(),Je();var q=Fo(),le=Be(q),te=p(le);let Le;var R=y(te,2);let O;var J=y(le,2),Q=p(J);let W;var ue=p(Q),G=p(ue);{var K=D=>{var ae=ko(),N=p(ae),S=p(N),C=p(S),I=y(S,2),fe=p(I),oe=y(fe,2),ne=p(oe),ge=y(oe,2),Re=y(I,2),Xe=p(Re),ft=y(Re,2);{var Tt=et=>{var Kt=So(),Fn=p(Kt);P(()=>M(Fn,`(${l(f)??""})`)),w(et,Kt)};L(ft,et=>{l(f)&&et(Tt)})}var Nt=y(N,2),dt=p(Nt),Ct=y(dt,2);let ur;var fr=y(Ct,2),Ai=y(Nt,2),dr=p(Ai);{var Ti=et=>{var Kt=Eo(),Fn=p(Kt);P(Ni=>M(Fn,`Scaled from ${Ni??""} ${l(u)??""}`),[()=>(l(a),b(()=>j(l(a))))]),w(et,Kt)};L(dr,et=>{l(o)!==1&&l(a)&&et(Ti)})}var vr=y(dr,2);P(et=>{M(C,l(d)),M(ne,et),M(Xe,l(u)),dt.disabled=!l(a),ur=rt(Ct,1,"servings-preset-btn",null,ur,{active:l(o)===1}),Ct.disabled=l(o)===1,fr.disabled=!l(a),vr.disabled=l(o)===1},[()=>(l(c),b(()=>j(l(c))))]),ie("click",fe,()=>A(-1)),ie("click",ge,()=>A(1)),ie("click",dt,z),ie("click",Ct,F),ie("click",fr,Z),ie("click",vr,F),w(D,ae)};L(G,D=>{m&&l(a)&&D(K)})}var X=y(G,2);{var Te=D=>{var ae=$o(),N=y(p(ae),2);qe(N,5,()=>(k(v()),b(()=>v().scaleWarnings)),Qe,(S,C)=>{var I=xo(),fe=p(I);P(()=>M(fe,l(C))),w(S,I)}),w(D,ae)};L(X,D=>{l(h)&&D(Te)})}var se=y(X,2);{var ce=D=>{var ae=Ao(),N=y(p(ae),2);Si(N,{get ingredients(){return k(v()),b(()=>v().ingredients)},get scaleFactor(){return l(o)}}),w(D,ae)};L(se,D=>{k(v()),b(()=>v().ingredients?.length)&&D(ce)})}var he=y(se,2);{var ye=D=>{var ae=To(),N=y(p(ae),2);Qa(N,{get instructions(){return k(v()),b(()=>v().instructions)},get scaleFactor(){return l(o)}}),w(D,ae)};L(he,D=>{k(v()),b(()=>v().instructions?.length)&&D(ye)})}var re=y(ue,2);{var Fe=D=>{var ae=Lo(),N=p(ae);{var S=ne=>{var ge=No(),Re=p(ge);P(Xe=>M(Re,`Prep ${Xe??""}`),[()=>(k(nt),k(v()),b(()=>nt(v().time.prep)))]),w(ne,ge)};L(N,ne=>{k(v()),b(()=>v().time.prep)&&ne(S)})}var C=y(N,2);{var I=ne=>{var ge=Co(),Re=p(ge);P(Xe=>M(Re,`Active ${Xe??""}`),[()=>(k(nt),k(v()),b(()=>nt(v().time.activeCook)))]),w(ne,ge)};L(C,ne=>{k(v()),b(()=>v().time.activeCook)&&ne(I)})}var fe=y(C,2);{var oe=ne=>{var ge=Mo(),Re=p(ge);P(Xe=>M(Re,`Total ${Xe??""}`),[()=>(k(nt),k(v()),b(()=>nt(v().time.total)))]),w(ne,ge)};L(fe,ne=>{k(v()),b(()=>v().time.total)&&ne(oe)})}w(D,ae)};L(re,D=>{k(v()),b(()=>v().time)&&D(Fe)})}var we=y(Q,2);let _e;var Ee=p(we);bo(Ee,{get recipe(){return v()},get scaleFactor(){return l(o)}}),P(()=>{Le=rt(te,1,"recipe-view-btn",null,Le,{active:l(g)==="cook"}),O=rt(R,1,"recipe-view-btn",null,O,{active:l(g)==="mise"}),W=rt(Q,1,"recipe-view-panel",null,W,{active:l(g)==="cook"}),_e=rt(we,1,"recipe-view-panel",null,_e,{active:l(g)==="mise"})}),ie("click",te,()=>E("cook")),ie("click",R,()=>E("mise")),w(e,q),Ge(),i()}var Po=$('<div class="recipe-image-container" role="button" tabindex="0"><img class="recipe-image" loading="lazy"/></div>'),Io=$('<p class="recipe-description"> </p>'),Oo=$("<span> </span>"),Do=$("<span> </span>"),qo=$('<div class="recipe-actions"><button type="button" class="recipe-action-btn">Share</button></div>'),Bo=$('<span class="export-hint"> </span>'),Uo=$('<article><div class="recipe-card-inner"><!> <div class="recipe-header" role="button" tabindex="0"><div class="recipe-header-main"><h2 class="recipe-title"> </h2> <!> <div class="recipe-meta"><!> <!></div></div> <div class="recipe-header-controls"><!> <!></div></div> <div class="recipe-details prevent-card-toggle"><!></div> <span class="recipe-category"> </span></div></article>');function jo(e,t){ze(t,!1);const n=()=>be(vn,"$selectedRecipes",i),r=()=>be(yn,"$shoppingListMode",i),[i,s]=Qt(),o=B(),a=B(),c=B(),u=B();let f=Me(t,"recipe",8),_=Me(t,"focusedSlug",8,"");const d=aa(),h=xe.features.enableScaling!==!1,v=xe.features.enableSharing!==!1;let m=B(!1),g=B(""),E;lr(()=>{h&&It.initRecipe(f()),_()&&f().slug===_()&&T(m,!0)});function A(){if(r()){ba(f().name);return}T(m,!l(m)),d("toggle",{expanded:l(m)})}function x(S){S.defaultPrevented||(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),A())}async function F(S){S.stopPropagation();const C=z();try{navigator.share?await navigator.share({title:f().name,url:C}):navigator.clipboard?.writeText?(await navigator.clipboard.writeText(C),Z()):window.prompt("Copy this link",C)}catch(I){console.error("Share failed",I)}}function z(){return typeof window>"u"?`#${f().slug}`:`${window.location.origin}${window.location.pathname}#${f().slug}`}function Z(){T(g,"Link copied"),clearTimeout(E),E=setTimeout(()=>{T(g,"")},2e3)}function j(S,C,I){return S?.time?.[C]?nt(S.time[C]):S?.[I]?S[I]:null}Y(()=>(n(),k(f())),()=>{T(o,n().includes(f().name))}),Y(()=>(k(_()),k(f()),l(m)),()=>{_()&&_()!==f().slug&&l(m)&&T(m,!1)}),Y(()=>(k(_()),k(f()),l(m),r()),()=>{_()&&f().slug===_()&&!l(m)&&!r()&&T(m,!0)}),Y(()=>(k(_()),l(m),r()),()=>{!_()&&l(m)&&!r()&&T(m,!1)}),Y(()=>(r(),l(m)),()=>{r()&&l(m)&&(T(m,!1),d("toggle",{expanded:l(m)}))}),Y(()=>k(f()),()=>{T(a,j(f(),"prep","prepTime"))}),Y(()=>k(f()),()=>{T(c,j(f(),"activeCook","cookTime"))}),Y(()=>k(f()),()=>{T(u,f().category||Array.isArray(f().tags)&&f().tags[0]||"Uncategorized")}),Wt(),Je();var q=Uo();let le;var te=p(q),Le=p(te);{var R=S=>{var C=Po(),I=p(C);P(()=>{Ve(C,"aria-expanded",l(m)),Ve(I,"src",(k(f()),b(()=>f().image))),Ve(I,"alt",(k(f()),b(()=>f().name)))}),ie("click",C,A),ie("keydown",C,x),w(S,C)};L(Le,S=>{k(f()),b(()=>f().image)&&S(R)})}var O=y(Le,2),J=p(O),Q=p(J),W=p(Q),ue=y(Q,2);{var G=S=>{var C=Io(),I=p(C);P(()=>M(I,(k(f()),b(()=>f().description)))),w(S,C)};L(ue,S=>{k(f()),b(()=>f().description)&&S(G)})}var K=y(ue,2),X=p(K);{var Te=S=>{var C=Oo(),I=p(C);P(()=>M(I,`Prep: ${l(a)??""}`)),w(S,C)};L(X,S=>{l(a)&&S(Te)})}var se=y(X,2);{var ce=S=>{var C=Do(),I=p(C);P(()=>M(I,`Cook: ${l(c)??""}`)),w(S,C)};L(se,S=>{l(c)&&S(ce)})}var he=y(J,2),ye=p(he);{var re=S=>{var C=qo(),I=p(C);ie("click",I,Xs(F)),w(S,C)};L(ye,S=>{v&&S(re)})}var Fe=y(ye,2);{var we=S=>{var C=Bo(),I=p(C);P(()=>M(I,l(g))),w(S,C)};L(Fe,S=>{v&&l(g)&&S(we)})}var _e=y(O,2),Ee=p(_e);{var D=S=>{Ro(S,{get recipe(){return f()}})};L(Ee,S=>{l(m)&&S(D)})}var ae=y(_e,2),N=p(ae);P(()=>{le=rt(q,1,"recipe-card",null,le,{expanded:l(m),selected:l(o)}),Ve(q,"data-recipe-name",(k(f()),b(()=>f().name))),Ve(q,"data-recipe-slug",(k(f()),b(()=>f().slug))),Ve(O,"aria-expanded",l(m)),M(W,(k(f()),b(()=>f().name))),M(N,l(u))}),ie("click",O,A),ie("keydown",O,x),w(e,q),Ge(),s()}const zo=[{key:"produce",label:"Produce"},{key:"meat",label:"Meat"},{key:"dairy",label:"Dairy"},{key:"frozen",label:"Frozen"},{key:"bakery",label:"Bakery/Baking"},{key:"pantry",label:"Pantry/Dry Goods"},{key:"spices",label:"Spices"},{key:"beverages",label:"Beverages"},{key:"other",label:"Other"}],Go={produce:"produce",vegetables:"produce",vegetable:"produce",fruit:"produce",fruits:"produce",meat:"meat",protein:"meat",poultry:"meat",seafood:"meat",dairy:"dairy",eggs:"dairy","dairy & eggs":"dairy","dairy and eggs":"dairy",cheese:"dairy",frozen:"frozen",freezer:"frozen",bakery:"bakery",baking:"bakery","bakery/baking":"bakery",pantry:"pantry","dry goods":"pantry",spices:"spices",seasonings:"spices",herbs:"spices",beverages:"beverages",drinks:"beverages",other:"other",misc:"other"};function Ho(e=[],t={}){const n=Vo(e,t),r=Wo(n),i=Yo(r),s=Qo(n);return{entries:r,grouped:i,warnings:s}}function Vo(e,t){const n=[];return e.forEach(r=>{const i=t?.[r.name]?.scaleFactor??1;wi(r.ingredients||[]).forEach(o=>{const a=ln(o,i);a.display&&n.push({recipe:r.name,display:a.display,parsedName:a.parsedName,unit:a.unit,quantity:a.scaledQuantity,category:Ko(o?.aisle||o?.category),rawCategory:o?.aisle||o?.category||null,warning:a.warning})})}),n}function Wo(e){const t=new Map;return e.forEach(n=>{const r=n.parsedName?`${n.parsedName.toLowerCase()}||${n.unit||""}`:`raw||${cr(n.display).toLowerCase()}`,i=t.get(r);i?(typeof n.quantity=="number"&&(i.quantity=(i.quantity||0)+n.quantity),i.sources.add(n.recipe),i.count+=1,!i.category&&n.category&&(i.category=n.category)):t.set(r,{key:r,display:n.display,parsedName:n.parsedName,unit:n.unit,quantity:n.quantity,category:n.category,sources:new Set([n.recipe]),count:1})}),Array.from(t.values()).map(n=>{const r=n.quantity&&n.unit&&`${zt(n.quantity,n.unit)} ${n.parsedName||""}`.trim()||n.display;return{...n,display:r,sources:Array.from(n.sources)}})}function Yo(e){const t=zo.map(r=>({key:r.key,label:r.label,items:[]})),n=t[t.length-1];return e.forEach(r=>{(t.find(s=>s.key===(r.category||"other"))||n).items.push({...r,display:r.quantity&&r.unit?`${zt(r.quantity,r.unit)} ${r.parsedName||""}`.trim():r.display})}),t.forEach(r=>{r.items.sort((i,s)=>(i.parsedName||i.display).localeCompare(s.parsedName||s.display))}),t}function Qo(e){const t=new Set;return e.forEach(n=>{n.warning&&t.add(n.warning)}),Array.from(t)}function Ko(e){if(!e)return null;const t=e.toString().toLowerCase().replace(/&/g,"and").replace(/[^a-z\s]/g," ").replace(/\s+/g," ").trim();return t&&Go[t]||null}function Zo(e,t){const n=[];return e.forEach(r=>{r.items.length&&(n.push(`${r.label}:`),r.items.forEach(i=>{n.push(`- ${i.display}`)}),n.push(""))}),t.length&&n.push(`⚠️ ${t.join(", ")}`),n.join(`
`).trim()}const Jo="https://www.googleapis.com/auth/tasks",Xo="https://accounts.google.com/gsi/client";let _n=null,qn=null,gn=null,Fr=0;async function el({title:e,items:t,notes:n}){tl(),await nl();const r=await rl(),i=await il(e,r);if(t?.length)for(const s of t)await Rr(i.id,{title:s},r);return n&&await Rr(i.id,{title:`${e} Notes`,notes:n},r),i}function tl(){if(!window.GOOGLE_TASKS_CLIENT_ID)throw new Error("Google Tasks client ID is not configured.")}function nl(){return _n||(_n=new Promise((e,t)=>{if(window.google?.accounts?.oauth2){e();return}const n=document.createElement("script");n.src=Xo,n.async=!0,n.onerror=()=>t(new Error("Failed to load Google Identity Services script.")),n.onload=()=>e(),document.head.appendChild(n)}),_n)}function rl(){return gn&&Fr>Date.now()?Promise.resolve(gn):new Promise((e,t)=>{qn||(qn=window.google.accounts.oauth2.initTokenClient({client_id:window.GOOGLE_TASKS_CLIENT_ID,scope:Jo,callback:n=>{if(n.error){t(n);return}gn=n.access_token,Fr=Date.now()+(n.expires_in||3600)*1e3,e(gn)}}));try{qn.requestAccessToken()}catch(n){t(n)}})}async function il(e,t){const n=await fetch("https://tasks.googleapis.com/tasks/v1/users/@me/lists",{method:"POST",headers:$i(t),body:JSON.stringify({title:e})});if(!n.ok){const r=await n.text();throw new Error(`Failed to create task list: ${r}`)}return n.json()}async function Rr(e,t,n){const r=await fetch(`https://tasks.googleapis.com/tasks/v1/lists/${e}/tasks`,{method:"POST",headers:$i(n),body:JSON.stringify(t)});if(!r.ok){const i=await r.text();throw new Error(`Failed to create task: ${i}`)}return r.json()}function $i(e){return{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}var sl=$("<li> </li>"),al=$('<p class="subsection-label"> </p> <ul></ul>',1),ol=$('<p class="modal-hint"> </p>'),ll=$('<div class="modal-backdrop"><div class="modal" role="dialog" aria-modal="true" tabindex="-1"><header><h3> </h3> <button type="button" class="modal-close" aria-label="Close modal">×</button></header> <div class="modal-body"></div> <!> <div class="modal-actions"><button type="button">Copy</button> <button type="button"><!></button></div></div></div>'),cl=$('<div class="modal-backdrop"><div class="modal" role="dialog" aria-modal="true" tabindex="-1"><header><h3>No recipes selected</h3> <button type="button" class="modal-close">×</button></header> <p class="modal-hint">Select at least one recipe to build a shopping list.</p></div></div>');function ul(e,t){ze(t,!1);const n=B(),r=B(),i=B();let s=Me(t,"recipes",24,()=>[]),o=Me(t,"selectedNames",24,()=>[]),a=Me(t,"scaleState",24,()=>({})),c=B(""),u=B(!1),f=B();lr(()=>{const A=x=>{x.key==="Escape"&&h()};return window.addEventListener("keydown",A),gi().then(()=>l(f)?.focus()),()=>window.removeEventListener("keydown",A)});async function _(){if(l(i))try{await navigator.clipboard.writeText(l(i)),T(c,"Copied to clipboard")}catch{T(c,"Copy failed")}finally{setTimeout(()=>T(c,""),2e3)}}async function d(){try{T(u,!0),T(c,"");const A=l(n).length===1?`${l(n)[0].name} Shopping List`:`Shopping List (${l(n).length} recipes)`;await el({title:A,items:l(r).entries.map(x=>x.display),notes:l(i)}),T(c,"Sent to Google Tasks")}catch(A){T(c,A?.message||"Export failed")}finally{T(u,!1)}}function h(){nn.set(!1),T(c,"")}Y(()=>(k(s()),k(o())),()=>{T(n,s().filter(A=>o().includes(A.name)))}),Y(()=>(l(n),k(a())),()=>{T(r,Ho(l(n),a()))}),Y(()=>l(r),()=>{T(i,Zo(l(r).grouped,l(r).warnings))}),Wt(),Je();var v=lt(),m=Be(v);{var g=A=>{var x=ll(),F=p(x),z=p(F),Z=p(z),j=p(Z),q=y(Z,2),le=y(z,2);qe(le,5,()=>(l(r),b(()=>l(r).grouped)),Qe,(G,K)=>{var X=lt(),Te=Be(X);{var se=ce=>{var he=al(),ye=Be(he),re=p(ye),Fe=y(ye,2);qe(Fe,5,()=>(l(K),b(()=>l(K).items)),Qe,(we,_e)=>{var Ee=sl(),D=p(Ee);P(()=>M(D,(l(_e),b(()=>l(_e).display)))),w(we,Ee)}),P(()=>M(re,(l(K),b(()=>l(K).label)))),w(ce,he)};L(Te,ce=>{l(K),b(()=>l(K).items.length)&&ce(se)})}w(G,X)});var te=y(le,2);{var Le=G=>{var K=ol(),X=p(K);P(()=>M(X,l(c))),w(G,K)};L(te,G=>{l(c)&&G(Le)})}var R=y(te,2),O=p(R),J=y(O,2),Q=p(J);{var W=G=>{var K=Er("Exporting…");w(G,K)},ue=G=>{var K=Er("Google Tasks");w(G,K)};L(Q,G=>{l(u)?G(W):G(ue,!1)})}Tr(F,G=>T(f,G),()=>l(f)),P(()=>{M(j,`Shopping List (${l(n),b(()=>l(n).length)??""} recipes)`),O.disabled=!l(i),J.disabled=l(u)}),ie("click",q,h),ie("click",O,_),ie("click",J,d),w(A,x)},E=A=>{var x=cl(),F=p(x),z=p(F),Z=y(p(z),2);Tr(F,j=>T(f,j),()=>l(f)),ie("click",Z,h),w(A,x)};L(m,A=>{l(n),b(()=>l(n).length)?A(g):A(E,!1)})}w(e,v),Ge()}var fl=$('<footer><div class="container"><p>Made with <a target="_blank" rel="noreferrer">Soustack</a></p></div></footer>');function dl(e,t){ze(t,!1);const n=da(),r=va();Je();var i=lt(),s=Be(i);{var o=a=>{var c=fl(),u=p(c),f=p(u),_=y(p(f));P(()=>Ve(_,"href",r)),w(a,c)};L(s,a=>{n&&a(o)})}w(e,i),Ge()}var vl=$('<button type="button" class="export-btn export-btn-secondary">Clear Selection</button>'),pl=$("<p>Loading recipes…</p>"),hl=$('<p class="error"> </p>'),_l=$('<p id="noResults">No recipes match that search.</p>'),gl=$('<div class="recipes-grid" id="recipesGrid"></div>'),ml=$('<!> <main class="container"><!> <!> <section class="export-controls"><div class="export-controls-row"><div><p class="selection-count"> </p> <p class="export-hint">Select recipes to build a shopping list</p></div> <div class="export-buttons"><button type="button"> </button> <!></div></div></section> <!></main> <!> <!>',1);function bl(e,t){ze(t,!1);const n=()=>be(Qn,"$recipes",d),r=()=>be(Yn,"$searchQuery",d),i=()=>be(bn,"$activeFilters",d),s=()=>be(ma,"$selectionCount",d),o=()=>be(yn,"$shoppingListMode",d),a=()=>be(Kn,"$loading",d),c=()=>be(Zn,"$error",d),u=()=>be(nn,"$showShoppingModal",d),f=()=>be(vn,"$selectedRecipes",d),_=()=>be(It,"$scalingStore",d),[d,h]=Qt(),v=B(),m=B(),g=B();let E=B("");lr(()=>{if(Ja(),typeof window>"u")return;T(E,window.location.hash.replace("#","")||"");const N=()=>{T(E,window.location.hash.replace("#","")||"")};return window.addEventListener("hashchange",N),()=>{window.removeEventListener("hashchange",N)}});function A(N,S,C){if(!Array.isArray(N))return[];const I=S.trim().toLowerCase(),fe=C.map(oe=>oe.toLowerCase());return N.filter(oe=>{const ne=!I||x(oe,I),ge=!fe.length||oe.tags?.some?.(Re=>fe.includes(Re.toLowerCase()));return ne&&ge})}function x(N,S){return[N.name,N.description,...N.tags||[]].concat((N.ingredients||[]).map(I=>typeof I=="string"?I:I.item)).filter(Boolean).join(" ").toLowerCase().includes(S)}function F(){if(!o()){yn.set(!0),nn.set(!1),Z();return}l(m)&&nn.set(!0)}function z(){ya(),yn.set(!1),nn.set(!1),Z()}function Z(){j("")}function j(N){if(typeof window>"u"){T(E,N||"");return}const S=`${window.location.origin}${window.location.pathname}`;N?window.history.replaceState({},"",`${S}#${N}`):window.history.replaceState({},"",S),T(E,N||"")}function q(N,S){const{expanded:C}=S.detail;C?j(N.slug):l(E)===N.slug&&j("")}function le(N,S){return`${N?.slug||N?.name||"recipe"}-${S}`}function te(N){return`${N} ${N===1?"recipe":"recipes"} selected`}Y(()=>(n(),r(),i()),()=>{T(v,A(n(),r(),i()))}),Y(()=>s(),()=>{T(m,s()>0)}),Y(()=>s(),()=>{T(g,te(s()))}),Wt(),Je();var Le=ml(),R=Be(Le);ga(R,{});var O=y(R,2),J=p(O);Sa(J);var Q=y(J,2);$a(Q,{get recipes(){return n()}});var W=y(Q,2),ue=p(W),G=p(ue),K=p(G),X=p(K),Te=y(G,2),se=p(Te);let ce;var he=p(se),ye=y(se,2);{var re=N=>{var S=vl();ie("click",S,z),w(N,S)};L(ye,N=>{o()&&N(re)})}var Fe=y(W,2);{var we=N=>{var S=pl();w(N,S)},_e=N=>{var S=lt(),C=Be(S);{var I=oe=>{var ne=hl(),ge=p(ne);P(()=>M(ge,c())),w(oe,ne)},fe=oe=>{var ne=lt(),ge=Be(ne);{var Re=ft=>{var Tt=_l();w(ft,Tt)},Xe=ft=>{var Tt=gl();qe(Tt,7,()=>l(v),(Nt,dt)=>le(Nt,dt),(Nt,dt)=>{jo(Nt,{get recipe(){return l(dt)},get focusedSlug(){return l(E)},$$events:{toggle:Ct=>q(l(dt),Ct)}})}),w(ft,Tt)};L(ge,ft=>{l(v),b(()=>!l(v).length)?ft(Re):ft(Xe,!1)},!0)}w(oe,ne)};L(C,oe=>{c()?oe(I):oe(fe,!1)},!0)}w(N,S)};L(Fe,N=>{a()?N(we):N(_e,!1)})}var Ee=y(O,2);{var D=N=>{ul(N,{get recipes(){return n()},get selectedNames(){return f()},get scaleState(){return _()}})};L(Ee,N=>{u()&&N(D)})}var ae=y(Ee,2);dl(ae,{}),P(()=>{M(X,l(g)),ce=rt(se,1,"export-btn export-btn-secondary",null,ce,{"export-btn-primary":o()}),Ve(se,"data-selection-mode",o()),se.disabled=o()&&!l(m),M(he,o()?"Create Shopping List":"Make Shopping List")}),ie("click",se,F),w(e,Le),Ge(),h()}const Pr=typeof document<"u"?document.getElementById("app"):null;Pr&&Bs(bl,{target:Pr});typeof document<"u"&&(fa(document),document.title=ua());"serviceWorker"in navigator&&(navigator.serviceWorker.getRegistrations().then(e=>{e.forEach(t=>{t.scope.includes("/recipes/")&&(console.log("Unregistering old service worker from /recipes/ path"),t.unregister())})}),window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{setInterval(()=>{e.update()},3600*1e3),e.addEventListener("updatefound",()=>{const t=e.installing;t&&t.addEventListener("statechange",()=>{t.state==="installed"&&navigator.serviceWorker.controller&&console.log("New service worker available. Reload to update.")})})}).catch(e=>{console.warn("Service worker registration failed",e)})}));
